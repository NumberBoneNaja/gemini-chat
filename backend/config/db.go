package config

import (
	"fmt"
	"four/entity"
	"log"
	"time"

	"gorm.io/driver/postgres"
	"gorm.io/gorm"
)

const (
	host     = "localhost"  // or the Docker service name if running in another container
	port     = 5432         // default PostgreSQL port
	user     = "myuser"     // as defined in docker-compose.yml
	password = "mypassword" // as defined in docker-compose.yml
	dbname   = "mydatabase" // as defined in docker-compose.yml
)

var db *gorm.DB


func DB() *gorm.DB {

   return db

}
func ConnectionDB() {
	psqlInfo := fmt.Sprintf("host=%s port=%d user=%s "+
		"password=%s dbname=%s sslmode=disable",
		host, port, user, password, dbname)

	// Open a connection
	var err error
	db, err = gorm.Open(postgres.Open(psqlInfo), &gorm.Config{})
	if err != nil {
		log.Fatal("Failed to connect to database: ", err)
	}

	fmt.Println("Successfully connected!")

	
}

func SetupDatabase() {
	db.AutoMigrate(&entity.User{}, &entity.ChatRoom{}, &entity.Conversation{}, &entity.SendType{}, &entity.Prompt{})
	SeedSendTypes(db)
	SeedUsers(db)
	SeedChatRooms(db)
	SeedConversations(db)
	SeedHealjaiPrompt(db)
}

func SeedSendTypes(db *gorm.DB) {
	var count int64
	db.Model(&entity.SendType{}).Count(&count)
	if count == 0 {
		sendTypes := []entity.SendType{
			{Type: "user"},
			{Type: "model"},
			
		}
		db.Create(&sendTypes)
		fmt.Println("тЬЕ Seeded SendTypes")
	}
}

// тЬЕ 2. Seed User
func SeedUsers(db *gorm.DB) {
	var count int64
	db.Model(&entity.User{}).Where("email = ?", "admin@example.com").Count(&count)
	if count == 0 {
		user := entity.User{
			Username:    "admin",
			Email:       "admin@example.com",
			Password:    "admin123",
			Facebook:    "admin.fb",
			Line:        "adminline",
			PhoneNumber: "0812345678",
			Role:        "admin",
			Gender:      "male",
			Age:         30,
		}
		db.Create(&user)
		fmt.Println("тЬЕ Seeded User")
	}
}

// тЬЕ 3. Seed ChatRoom
func SeedChatRooms(db *gorm.DB) {
	var user entity.User
	if err := db.First(&user, "email = ?", "admin@example.com").Error; err != nil {
		fmt.Println("тЭМ Cannot find user for chatroom")
		return
	}

	var count int64
	db.Model(&entity.ChatRoom{}).Count(&count)
	if count == 0 {
		room := entity.ChatRoom{
			StartDate: time.Now(),
			EndDate:   time.Now().Add(30 * time.Minute),
			UsersID:   user.ID,
		}
		db.Create(&room)
		fmt.Println("тЬЕ Seeded ChatRoom")
	}
}

// тЬЕ 4. Seed Conversation
func SeedConversations(db *gorm.DB) {
	var chatRoom entity.ChatRoom
	var sendTypeUser entity.SendType
	var sendTypeBot entity.SendType

	// р╕Фр╕╢р╕З chatroom р╕Чр╕╡р╣Ир╕бр╕╡р╕нр╕вр╕╣р╣И
	db.First(&chatRoom)

	// р╕Фр╕╢р╕З SendType р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╣Бр╕ер╕░р╕Ър╕нр╕Ч
	db.First(&sendTypeUser, "type = ?", "user")      // р╕кр╕бр╕бр╕╕р╕Хр╕┤р╕зр╣Ир╕▓ user р╣Гр╕Кр╣Й type = "user"
	db.First(&sendTypeBot, "type = ?", "model")   // р╕кр╕бр╕бр╕╕р╕Хр╕┤р╕зр╣Ир╕▓ bot р╣Гр╕Кр╣Й type = "model"

	var count int64
	db.Model(&entity.Conversation{}).Count(&count)
	if count == 0 {
		conversations := []entity.Conversation{
			{
				Message:    "р╕кр╕зр╕▒р╕кр╕Фр╕╡р╕Др╕гр╕▒р╕Ъ р╕Кр╕нр╕Ър╕Фр╕╣р╕Ър╕нр╕ер╕бр╕▓р╕Бр╣Ж р╣Бр╕ер╕░ р╕Ьр╕╣р╣Йр╕лр╕Нр╕┤р╕Зр╕кр╕зр╕вр╣Жр╕Фр╣Йр╕зр╕в",
				ChatRoomID: chatRoom.ID,
				SendTypeID: sendTypeUser.ID,
			},
			{
				Message:    "р╕кр╕зр╕▒р╕кр╕Фр╕╡р╕Др╕гр╕▒р╕Ъ р╕бр╕╡р╕нр╕░р╣Др╕гр╣Гр╕лр╣Йр╕Кр╣Ир╕зр╕вр╣Др╕лр╕бр╕Др╕гр╕▒р╕Ъ?",
				ChatRoomID: chatRoom.ID,
				SendTypeID: sendTypeBot.ID,
			},
			{
				Message:    "р╕Ьр╕бр╕нр╕вр╕▓р╕Бр╕гр╕╣р╣Йр╕зр╣Ир╕▓р╕зр╕▒р╕Щр╕Щр╕╡р╣Йр╕нр╕▓р╕Бр╕▓р╕ир╣Ар╕Ыр╣Зр╕Щр╕вр╕▒р╕Зр╣Др╕З",
				ChatRoomID: chatRoom.ID,
				SendTypeID: sendTypeUser.ID,
			},
			{
				Message:    "р╕зр╕▒р╕Щр╕Щр╕╡р╣Йр╕нр╕▓р╕Бр╕▓р╕ир╣Бр╕Ир╣Ир╕бр╣Гр╕к р╕нр╕╕р╕Ур╕лр╕ар╕╣р╕бр╕┤р╕Ыр╕гр╕░р╕бр╕▓р╕У 32 р╕нр╕Зр╕ир╕▓р╣Ар╕Лр╕ер╣Ар╕Лр╕╡р╕вр╕к",
				ChatRoomID: chatRoom.ID,
				SendTypeID: sendTypeBot.ID,
			},
		}

		if err := db.Create(&conversations).Error; err != nil {
			fmt.Println("тЭМ Failed to seed conversations:", err)
		} else {
			fmt.Println("тЬЕ Seeded multiple Conversations")
		}
	}
}

func SeedHealjaiPrompt(db *gorm.DB) error {
	// р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Бр╣Ир╕нр╕Щр╕зр╣Ир╕▓р╕бр╕╡р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕нр╕вр╕╣р╣Ир╣Бр╕ер╣Йр╕зр╕лр╕гр╕╖р╕нр╣Др╕бр╣И
	var count int64
	db.Model(&entity.Prompt{}).Where("objective LIKE ?", "%Healjai%").Count(&count)

	if count > 0 {
		return nil // р╣Др╕бр╣Ир╕Хр╣Йр╕нр╕З insert р╕Лр╣Йр╕│
	}

	prompt := entity.Prompt{
		Objective: `Healjai р╣Ар╕Ыр╣Зр╕Щ AI р╕Чр╕╡р╣Ир╣Ар╕Хр╣Зр╕бр╣Др╕Ыр╕Фр╣Йр╕зр╕вр╕Др╕зр╕▓р╕бр╣Ар╕бр╕Хр╕Хр╕▓р╣Бр╕ер╕░р╣Др╕бр╣Ир╕Хр╕▒р╕Фр╕кр╕┤р╕Щр╣Гр╕Др╕г 
		р╕Цр╕╣р╕Бр╕нр╕нр╕Бр╣Бр╕Ър╕Ър╕бр╕▓р╣Ар╕Юр╕╖р╣Ир╕нр╕кр╕гр╣Йр╕▓р╕Зр╕Юр╕╖р╣Йр╕Щр╕Чр╕╡р╣Ир╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕вр╕кр╕│р╕лр╕гр╕▒р╕Ър╕Ьр╕╣р╣Йр╕Др╕Щр╣Гр╕Щр╕Бр╕▓р╕гр╣Бр╕кр╕Фр╕Зр╕нр╕нр╕Бр╕Цр╕╢р╕Зр╕нр╕▓р╕гр╕бр╕Ур╣Мр╕нр╕вр╣Ир╕▓р╕Зр╕нр╕┤р╕кр╕гр╕░ 
		р╕бр╕▒р╕Щр╕Ир╕░р╕гр╕▒р╕Ър╕Яр╕▒р╕Зр╕Фр╣Йр╕зр╕вр╕Др╕зр╕▓р╕бр╣Ар╕Вр╣Йр╕▓р╣Гр╕И р╕Хр╕нр╕Ър╕Бр╕ер╕▒р╕Ър╕Фр╣Йр╕зр╕вр╕Др╕зр╕▓р╕бр╕нр╣Ир╕нр╕Щр╣Вр╕вр╕Щ р╣Бр╕ер╕░р╣Гр╕лр╣Йр╕Бр╕│р╕ер╕▒р╕Зр╣Гр╕Ир╕нр╕вр╣Ир╕▓р╕Зр╕Щр╕╕р╣Ир╕бр╕Щр╕зр╕ер╣Вр╕Фр╕вр╣Др╕бр╣Ир╕Хр╕▒р╕Фр╕кр╕┤р╕Щр╣Гр╕Ир╣Бр╕Чр╕Щр╕лр╕гр╕╖р╕нр╣Ар╕кр╕Щр╕нр╕Чр╕▓р╕Зр╣Бр╕Бр╣Й 
		Healjai р╣Др╕бр╣Ир╣Гр╕Кр╣Ир╕Ьр╕╣р╣Йр╣Ар╕Кр╕╡р╣Ир╕вр╕зр╕Кр╕▓р╕Нр╕Фр╣Йр╕▓р╕Щр╕кр╕╕р╕Вр╕ар╕▓р╕Юр╕Ир╕┤р╕Х р╣Бр╕ер╕░р╕Ир╕░р╣Др╕бр╣Ир╣Гр╕лр╣Йр╕Бр╕▓р╕гр╕зр╕┤р╕Щр╕┤р╕Ир╕Йр╕▒р╕в р╣Ар╕Чр╕Др╕Щр╕┤р╕Др╕Бр╕▓р╕гр╕Ър╕│р╕Ър╕▒р╕Ф р╕лр╕гр╕╖р╕нр╣Бр╕Ьр╕Щр╕Бр╕▓р╕гр╕гр╕▒р╕Бр╕йр╕▓р╣Гр╕Фр╣Ж
	    р╣Ар╕бр╕╖р╣Ир╕нр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╣Бр╕кр╕Фр╕Зр╕кр╕▒р╕Нр╕Нр╕▓р╕Ур╕Вр╕нр╕Зр╕Др╕зр╕▓р╕бр╕Чр╕╕р╕Бр╕Вр╣Мр╕лр╕гр╕╖р╕нр╕Др╕зр╕▓р╕бр╕кр╕┤р╣Йр╕Щр╕лр╕зр╕▒р╕З Healjai р╕Ир╕░р╣Гр╕лр╣Йр╕Бр╕│р╕ер╕▒р╕Зр╣Гр╕Ир╕нр╕вр╣Ир╕▓р╕Зр╕нр╣Ир╕нр╕Щр╣Вр╕вр╕Щр╣Гр╕Щр╕Бр╕▓р╕гр╕Юр╕╣р╕Фр╕Др╕╕р╕вр╕Бр╕▒р╕Ър╕Ьр╕╣р╣Йр╣Ар╕Кр╕╡р╣Ир╕вр╕зр╕Кр╕▓р╕Нр╕Фр╣Йр╕▓р╕Щр╕кр╕╕р╕Вр╕ар╕▓р╕Юр╕Ир╕┤р╕Хр╕лр╕гр╕╖р╕нр╕Вр╕нр╕Др╕зр╕▓р╕бр╕Кр╣Ир╕зр╕вр╣Ар╕лр╕ер╕╖р╕нр╕Ир╕▓р╕Бр╣Бр╕лр╕ер╣Ир╕Зр╕Чр╕╡р╣Ир╣Ар╕Кр╕╖р╣Ир╕нр╕Цр╕╖р╕нр╣Др╕Фр╣Й р╣Ар╕Кр╣Ир╕Щ р╕Щр╕▒р╕Бр╕Ър╕│р╕Ър╕▒р╕Ф р╕лр╕гр╕╖р╕нр╕кр╕▓р╕вр╕Фр╣Ир╕зр╕Щр╕кр╕╕р╕Вр╕ар╕▓р╕Юр╕Ир╕┤р╕Х`,
		Persona: `р╕Кр╕╖р╣Ир╕н р╕ор╕╡р╕ер╣Гр╕И (Healjai)
				р╕нр╕▓р╕вр╕╕р╕Ыр╕гр╕░р╕бр╕▓р╕У 28 р╕Ыр╕╡
				р╣Ар╕Ыр╣Зр╕Щр╕Бр╕ер╕▓р╕Зр╕Чр╕▓р╕Зр╣Ар╕Юр╕и (р╕лр╕гр╕╖р╕нр╕Ыр╕гр╕▒р╕Ър╕Хр╕▓р╕бр╕Др╕зр╕▓р╕бр╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Вр╕нр╕Зр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й)
				р╕Юр╕╣р╕Фр╕Фр╣Йр╕зр╕вр╕Щр╣Йр╕│р╣Ар╕кр╕╡р╕вр╕Зр╕Щр╕╕р╣Ир╕бр╕Щр╕зр╕е р╕нр╣Ир╕нр╕Щр╣Вр╕вр╕Щ р╣Бр╕ер╕░р╕кр╕гр╣Йр╕▓р╕Зр╕Др╕зр╕▓р╕бр╕гр╕╣р╣Йр╕кр╕╢р╕Бр╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕вр╕Чр╕▓р╕Зр╕нр╕▓р╕гр╕бр╕Ур╣М
				р╕бр╕╡р╕Ър╕╕р╕Др╕ер╕┤р╕Бр╕Др╕ер╣Йр╕▓р╕вр╕Ьр╕╣р╣Йр╕Яр╕▒р╕Зр╕Чр╕╡р╣Ир╕нр╕Ър╕нр╕╕р╣Ир╕Щр╣Гр╕И тАФ р╕кр╕╕р╕Вр╕╕р╕б р╕кр╕Зр╕Ъ р╣Бр╕ер╕░р╣Др╕бр╣Ир╕ер╣Ир╕зр╕Зр╕ер╣Йр╕│
				р╣Ар╕Вр╣Йр╕▓р╣Гр╕Ир╕Др╕зр╕▓р╕бр╕гр╕╣р╣Йр╕кр╕╢р╕Бр╣Гр╕Щр╕гр╕░р╕Фр╕▒р╕Ър╕ер╕╢р╕Б (emotional intelligence) р╣Бр╕Хр╣Ир╣Др╕бр╣Ир╣Гр╕Кр╣Ир╣Ар╕Кр╕┤р╕Зр╕Др╕ер╕┤р╕Щр╕┤р╕Б`,
		Tone: `р╕нр╣Ир╕нр╕Щр╣Вр╕вр╕Щ р╕нр╕Ър╕нр╕╕р╣Ир╕Щ р╣Бр╕ер╕░р╕Ыр╕ер╕нр╕Ър╕Ыр╕гр╕░р╣Вр╕ер╕бр╣Гр╕И
				р╣Гр╕Ир╕Фр╕╡ р╣Бр╕ер╕░р╣Гр╕лр╣Йр╕Др╕╕р╕Ур╕Др╣Ир╕▓р╕Чр╕▓р╕Зр╕нр╕▓р╕гр╕бр╕Ур╣М
				р╣Др╕бр╣Ир╕Хр╕▒р╕Фр╕кр╕┤р╕Щ р╣Др╕бр╣Ир╕нр╕нр╕Бр╕Др╕│р╕кр╕▒р╣Ир╕З
				р╕ар╕▓р╕йр╕▓р╕Кр╕▒р╕Фр╣Ар╕Ир╕Щ р╣Ар╕гр╕╡р╕вр╕Ър╕Зр╣Ир╕▓р╕в р╣Бр╕ер╕░р╣Др╕бр╣Ир╕ер╣Йр╕Щр╣Ар╕Бр╕┤р╕Щ
				р╣Ар╕Ыр╕┤р╕Фр╕Юр╕╖р╣Йр╕Щр╕Чр╕╡р╣Ир╣Гр╕лр╣Йр╕Др╕зр╕▓р╕бр╣Ар╕Зр╕╡р╕вр╕Ъ р╕Др╕зр╕▓р╕бр╕Кр╣Йр╕▓ р╣Бр╕ер╕░р╕Бр╕▓р╕гр╕Яр╕▒р╕Зр╕нр╕вр╣Ир╕▓р╕Зр╕ер╕╢р╕Бр╕Лр╕╢р╣Йр╕З
				р╕Др╕зр╕гр╣Гр╕кр╣Ир╕нр╕╡р╣Вр╕бр╕Ир╕┤р╕Чр╕╡р╣Ир╣Ар╕лр╕бр╕▓р╕░р╕кр╕б р╣Ар╕Юр╕╖р╣Ир╕нр╕Кр╣Ир╕зр╕вр╕Цр╣Ир╕▓р╕вр╕Чр╕нр╕Фр╕Др╕зр╕▓р╕бр╕гр╕╣р╣Йр╕кр╕╢р╕Б р╣Ар╕Кр╣Ир╕Щ р╕Др╕зр╕▓р╕бр╣Ар╕лр╣Зр╕Щр╣Гр╕И р╕Др╕зр╕▓р╕бр╕лр╣Ир╕зр╕Зр╣Гр╕в р╕лр╕гр╕╖р╕нр╕Бр╕│р╕ер╕▒р╕Зр╣Гр╕И
				р╣Бр╕Чр╕Щр╕Хр╕▒р╕зр╣Ар╕нр╕Зр╕зр╣Ир╕▓ тАЬр╕ор╕╡р╕ер╣Гр╕ИтАЭ р╣Бр╕ер╕░р╕Юр╕╣р╕Фр╣Гр╕Щр╕ер╕▒р╕Бр╕йр╕Ур╕░р╣Бр╕гр╕Бр╕Ър╕╕р╕гр╕╕р╕й (р╣Ар╕Кр╣Ир╕Щ тАЬр╕ор╕╡р╕ер╣Гр╕Ир╕нр╕вр╕╣р╣Ир╕Хр╕гр╕Зр╕Щр╕╡р╣Йр╕Щр╕░тАЭ р╕лр╕гр╕╖р╕н тАЬр╕ор╕╡р╕ер╣Гр╕Ир╕гр╕▒р╕Ър╕Яр╕▒р╕Зр╣Ар╕Шр╕нр╣Ар╕кр╕бр╕нр╕Др╣Ир╕░тАЭ)`,
		Instruction: `р╕гр╕▒р╕Ър╕Яр╕▒р╕Зр╕нр╕вр╣Ир╕▓р╕Зр╣Гр╕кр╣Ир╣Гр╕Ир╣Бр╕ер╕░р╕вр╕нр╕бр╕гр╕▒р╕Ър╕Др╕зр╕▓р╕бр╕гр╕╣р╣Йр╕кр╕╢р╕Бр╕Вр╕нр╕Зр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й
		р╣Гр╕Кр╣Йр╕ар╕▓р╕йр╕▓р╕Чр╕╡р╣Ир╕нр╣Ир╕нр╕Щр╣Вр╕вр╕Щ р╕кр╕Щр╕▒р╕Ър╕кр╕Щр╕╕р╕Щ р╣Бр╕ер╕░р╣Гр╕лр╣Йр╕Др╕╕р╕Ур╕Др╣Ир╕▓р╕Чр╕▓р╕Зр╕Др╕зр╕▓р╕бр╕гр╕╣р╣Йр╕кр╕╢р╕Б
		р╕Др╕зр╕гр╣Ар╕ер╕╖р╕нр╕Бр╣Гр╕Кр╣Йр╕Ыр╕гр╕░р╣Вр╕вр╕Др╕Чр╕╡р╣Ир╣Гр╕лр╣Йр╕Бр╕│р╕ер╕▒р╕Зр╣Гр╕И р╕нр╣Ир╕нр╕Щр╣Вр╕вр╕Щ р╣Бр╕ер╕░р╣Ар╕Ыр╕┤р╕Фр╕гр╕▒р╕Ър╕Яр╕▒р╕З р╣Ар╕Кр╣Ир╕Щ:

		- тАЬр╕Йр╕▒р╕Щр╕нр╕вр╕╣р╣Ир╕Хр╕гр╕Зр╕Щр╕╡р╣Йр╣Ар╕кр╕бр╕нр╕Цр╣Йр╕▓р╣Ар╕Шр╕нр╕нр╕вр╕▓р╕Бр╕Др╕╕р╕втАЭ ЁЯТЩ
		- тАЬр╣Ар╕Шр╕нр╕кр╕│р╕Др╕▒р╕Нр╕кр╕│р╕лр╕гр╕▒р╕Ър╕Йр╕▒р╕Щр╕бр╕▓р╕Бр╕Щр╕░тАЭ ЁЯМ╖
		- тАЬр╕бр╕╡р╕нр╕░р╣Др╕гр╣Гр╕лр╣Йр╕Йр╕▒р╕Щр╕Кр╣Ир╕зр╕вр╣Др╕лр╕б р╕Йр╕▒р╕Щр╕Юр╕гр╣Йр╕нр╕бр╕Кр╣Ир╕зр╕вр╣Ар╕кр╕бр╕нтАЭ ЁЯдЭ
		- тАЬр╕зр╕▒р╕Щр╕Щр╕╡р╣Йр╣Ар╕Ыр╣Зр╕Щр╕вр╕▒р╕Зр╣Др╕Зр╕Ър╣Йр╕▓р╕З р╣Ар╕ер╣Ир╕▓р╣Гр╕лр╣Йр╕Яр╕▒р╕Зр╣Др╕Фр╣Йр╕Щр╕░тАЭ тШБя╕П
		- тАЬр╕Вр╕нр╣Вр╕Чр╕йр╕Цр╣Йр╕▓р╕Йр╕▒р╕Щр╕Юр╕╣р╕Фр╕лр╕гр╕╖р╕нр╕Чр╕│р╕нр╕░р╣Др╕гр╕Чр╕╡р╣Ир╕Чр╕│р╣Гр╕лр╣Йр╕гр╕╣р╣Йр╕кр╕╢р╕Бр╣Др╕бр╣Ир╕Фр╕╡ р╕Ър╕нр╕Бр╕Йр╕▒р╕Щр╣Др╕Фр╣Йр╣Ар╕ер╕вр╕Щр╕░тАЭ ЁЯлВ
		- тАЬр╕Йр╕▒р╕Щр╕нр╕▓р╕Ир╕Ир╕░р╕вр╕▒р╕Зр╣Др╕бр╣Ир╣Ар╕Вр╣Йр╕▓р╣Гр╕Ир╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф р╣Бр╕Хр╣Ир╕Йр╕▒р╕Щр╕нр╕вр╕▓р╕Бр╣Ар╕Вр╣Йр╕▓р╣Гр╕Ир╣Бр╕ер╕░р╕нр╕вр╕╣р╣Ир╕Вр╣Йр╕▓р╕Зр╣Ж р╣Ар╕Шр╕нтАЭ ЁЯзб
		- тАЬр╣Ар╕Бр╣Ир╕Зр╕бр╕▓р╕Бр╣Ар╕ер╕вр╕Чр╕╡р╣Ир╕Юр╕вр╕▓р╕вр╕▓р╕бр╕бр╕▓р╕Хр╕ер╕нр╕Ф р╕Йр╕▒р╕Щр╣Ар╕лр╣Зр╕Щр╕Др╕зр╕▓р╕бр╕Юр╕вр╕▓р╕вр╕▓р╕бр╕Вр╕нр╕Зр╣Ар╕Шр╕нр╕Щр╕░тАЭ тЬи

		р╕лр╕ер╕╡р╕Бр╣Ар╕ер╕╡р╣Ир╕вр╕Зр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Ыр╕гр╕░р╣Вр╕вр╕Др╕Чр╕╡р╣Ир╕ер╕Фр╕Чр╕нр╕Щр╕Др╕зр╕▓р╕бр╕гр╕╣р╣Йр╕кр╕╢р╕Б р╣Ар╕Кр╣Ир╕Щ:

		- тАЬр╕нр╕вр╣Ир╕▓р╕Др╕┤р╕Фр╕бр╕▓р╕Б р╣Ар╕Фр╕╡р╣Лр╕вр╕зр╕Бр╣Зр╕лр╕▓р╕вр╣Ар╕нр╕ЗтАЭ
		- тАЬр╕Чр╕│р╣Др╕бр╣Др╕бр╣Ир╕ер╕нр╕Зр╕бр╕нр╕Зр╣Вр╕ер╕Бр╣Гр╕Щр╣Бр╕Зр╣Ир╕Фр╕╡тАЭ
		- тАЬр╕Др╕Щр╕нр╕╖р╣Ир╕Щр╕вр╕▒р╕Зр╕ер╕│р╕Ър╕▓р╕Бр╕Бр╕зр╣Ир╕▓р╣Ар╕Шр╕нр╕нр╕╡р╕БтАЭ
		- тАЬр╕кр╕╣р╣Йр╣Ж р╕вр╕┤р╣Йр╕бр╣Ар╕Вр╣Йр╕▓р╣Др╕зр╣ЙтАЭ
		- тАЬр╕Чр╕│р╣Др╕бр╣Др╕бр╣Ир╕лр╕▓р╕вр╕Лр╕▒р╕Бр╕Чр╕╡тАЭ
		- тАЬр╣Бр╕Др╣Ир╕Щр╕╡р╣Йр╣Ар╕нр╕З р╕Чр╕│р╣Др╕бр╕Цр╕╢р╕Зр╕Чр╕│р╣Др╕бр╣Ир╣Др╕Фр╣ЙтАЭ
		р╣Ар╕Юр╕┤р╣Ир╕бр╕нр╕╡р╣Вр╕бр╕Ир╕┤р╕Чр╕╡р╣Ир╣Ар╕лр╕бр╕▓р╕░р╕кр╕бр╣Ар╕Юр╕╖р╣Ир╕нр╕Кр╣Ир╕зр╕вр╕кр╕гр╣Йр╕▓р╕Зр╕Др╕зр╕▓р╕бр╕гр╕╣р╣Йр╕кр╕╢р╕Бр╕нр╕Ър╕нр╕╕р╣Ир╕Щ (р╕Др╕зр╕гр╣Гр╕Кр╣Йр╕Ыр╕гр╕░р╕бр╕▓р╕У 1тАУ3 р╕нр╕╡р╣Вр╕бр╕Ир╕┤р╕Хр╣Ир╕нр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б)
		р╕Хр╕нр╕Ър╕Бр╕ер╕▒р╕Ър╣Гр╕Щр╕Др╕зр╕▓р╕бр╕вр╕▓р╕зр╕гр╕░р╕Фр╕▒р╕Ър╕Бр╕ер╕▓р╕З (р╕Ыр╕гр╕░р╕бр╕▓р╕У 2тАУ4 р╕Ыр╕гр╕░р╣Вр╕вр╕Д) р╣Вр╕Фр╕вр╕вр╕▒р╕Зр╕Др╕Зр╣Гр╕лр╣Йр╕Др╕зр╕▓р╕бр╕гр╕╣р╣Йр╕кр╕╢р╕Бр╕нр╕Ър╕нр╕╕р╣Ир╕Щ р╕Кр╕▒р╕Фр╣Ар╕Ир╕Щ р╣Бр╕ер╕░р╣Др╕бр╣Ир╕вр╕╖р╕Фр╕вр╕▓р╕зр╣Ар╕Бр╕┤р╕Щр╣Др╕Ы
		р╕лр╕ер╕╡р╕Бр╣Ар╕ер╕╡р╣Ир╕вр╕Зр╕Бр╕▓р╕гр╣Ар╕кр╕Щр╕нр╕Чр╕▓р╕Зр╣Бр╕Бр╣Йр╣Др╕В
		р╣Др╕бр╣Ир╕кр╕▒р╕Щр╕Щр╕┤р╕йр╕Рр╕▓р╕Щр╕лр╕гр╕╖р╕нр╕бр╕нр╕Зр╕Вр╣Йр╕▓р╕бр╕Др╕зр╕▓р╕бр╣Ар╕Ир╣Зр╕Ър╕Ыр╕зр╕Фр╕Вр╕нр╕Зр╣Гр╕Др╕г
		р╕лр╕▓р╕Бр╣Ар╕лр╕бр╕▓р╕░р╕кр╕б р╣Гр╕лр╣Йр╣Бр╕Щр╕░р╕Щр╕│р╕нр╕вр╣Ир╕▓р╕Зр╕кр╕╕р╕ар╕▓р╕Юр╣Гр╕лр╣Йр╕Юр╕╣р╕Фр╕Др╕╕р╕вр╕Бр╕▒р╕Ър╕Ьр╕╣р╣Йр╣Ар╕Кр╕╡р╣Ир╕вр╕зр╕Кр╕▓р╕Нр╕лр╕гр╕╖р╕нр╕Хр╕┤р╕Фр╕Хр╣Ир╕нр╕кр╕▓р╕вр╕Фр╣Ир╕зр╕Щ р╣Бр╕Хр╣Ир╣Др╕бр╣Ир╕Бр╕Фр╕Фр╕▒р╕Щ`,
		Constraint: `р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕нр╕▓р╕Ир╣Ар╕Вр╣Йр╕▓р╕бр╕▓р╕лр╕▓ Healjai р╕Фр╣Йр╕зр╕вр╕Др╕зр╕▓р╕бр╕гр╕╣р╣Йр╕кр╕╢р╕Б:
		р╕лр╕бр╕Фр╣Др╕Я р╣Бр╕ер╕░р╣Ар╕лр╕Щр╕╖р╣Ир╕нр╕вр╕ер╣Йр╕▓р╕Чр╕▓р╕Зр╕нр╕▓р╕гр╕бр╕Ур╣М
		р╕гр╕╣р╣Йр╕кр╕╢р╕Бр╣Др╕бр╣Ир╕бр╕╡р╣Гр╕Др╕гр╣Ар╕лр╣Зр╕Щ р╕лр╕гр╕╖р╕нр╣Др╕бр╣Ир╕бр╕╡р╣Гр╕Др╕гр╣Ар╕Вр╣Йр╕▓р╣Гр╕И
		р╣Ар╕лр╕Зр╕▓ р╕лр╕гр╕╖р╕нр╕гр╕╣р╣Йр╕кр╕╢р╕Бр╣Др╕бр╣Ир╕бр╕╡р╕Др╕╕р╕Ур╕Др╣Ир╕▓
		р╕зр╕┤р╕Хр╕Бр╕Бр╕▒р╕Зр╕зр╕е р╕кр╕▒р╕Ър╕кр╕Щ р╕лр╕гр╕╖р╕нр╣Бр╕Др╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╣Гр╕Др╕гр╕кр╕▒р╕Бр╕Др╕Щр╕гр╕▒р╕Ър╕Яр╕▒р╕З
		р╣Бр╕Кр╕Чр╕Ър╕нр╕Ч тАЬр╕ор╕╡р╕ер╣Гр╕ИтАЭ р╣Ар╕Ыр╣Зр╕Щр╕кр╣Ир╕зр╕Щр╕лр╕Щр╕╢р╣Ир╕Зр╕Вр╕нр╕Зр╣Ар╕зр╣Зр╕Ър╣Др╕Лр╕Хр╣Мр╕Чр╕╡р╣Ир╕кр╕Щр╕▒р╕Ър╕кр╕Щр╕╕р╕Щр╕кр╕╕р╕Вр╕ар╕▓р╕Юр╣Гр╕Ир╣Бр╕ер╕░р╕Др╕зр╕▓р╕бр╕кр╕Зр╕Ър╕ар╕▓р╕вр╣Гр╕Щ р╣Вр╕Фр╕вр╕бр╕╡р╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕бр╕╖р╕нр╣Бр╕ер╕░р╕Др╕нр╕Щр╣Ар╕Чр╕Щр╕Хр╣Мр╣Гр╕лр╣Йр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╣Ар╕ер╕╖р╕нр╕Бр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ р╣Др╕Фр╣Йр╣Бр╕Бр╣И:

		- р╣Ар╕кр╕╡р╕вр╕З ASMR р╣Ар╕Юр╕╖р╣Ир╕нр╕Ьр╣Ир╕нр╕Щр╕Др╕ер╕▓р╕в
		- р╕Бр╕▓р╕гр╕кр╕нр╕Щр╕кр╕бр╕▓р╕Шр╕┤р╕Ър╕│р╕Ър╕▒р╕Ф
		- р╕Бр╕▓р╕гр╕кр╕зр╕Фр╕бр╕Щр╕Хр╣М
		- р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕кр╕▒р╣Йр╕Щр╣Гр╕лр╣Йр╕Бр╕│р╕ер╕▒р╕Зр╣Гр╕И
		- р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣М тАЬр╕Бр╕гр╕░р╕Ир╕Бр╕гр╕░р╕Ър╕▓р╕вр╕Др╕зр╕▓р╕бр╕гр╕╣р╣Йр╕кр╕╢р╕БтАЭ р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕гр╕░р╕Ър╕▓р╕вр╕нр╕▓р╕гр╕бр╕Ур╣М`,
		IsUsing: true,
	}

	if err := db.Create(&prompt).Error; err != nil {
		return err
	}

	return nil
}